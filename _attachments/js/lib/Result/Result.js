// Generated by CoffeeScript 1.6.3
(function() {
  this.Result = Backbone.Model.extend({
    url: "result",
    initialize: function(options) {
      console.log("Initializa For Result");
      if (options.blank === true) {
        console.log("if Options.blank == true Condition");
        this.set({
          'subtestData': [],
          'start_time': (new Date()).getTime(),
          'enumerator': "Tangerine.user.name"
        });
        return this.unset("blank");
      }
    },
    add: function(subtestDataElement) {
      var subtestData;
      console.log("Add Function Of Model Result");
      subtestData = this.get('subtestData');
      subtestData['timestamp'] = (new Date()).getTime();
      subtestData.push(subtestDataElement);
      return this.save({
        'subtestData': subtestData
      });
    },
    getGridScore: function(id) {
      var datum, _i, _len, _ref;
      console.log("getGridScore Function Of Model Result");
      _ref = this.get('subtestData');
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        datum = _ref[_i];
        if (datum.subtestId === id) {
          return parseInt(datum.data.attempted);
        }
      }
    },
    gridWasAutostopped: function(id) {
      var datum, _i, _len, _ref;
      console.log("gridWasAutostopped Function Of Model Result");
      _ref = this.get('subtestData');
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        datum = _ref[_i];
        if (datum.subtestId === id) {
          return datum.data.auto_stop;
        }
      }
    }
  });

}).call(this);
